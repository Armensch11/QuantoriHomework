/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./HW5/src/main/app.ts":
/*!*****************************!*\
  !*** ./HW5/src/main/app.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"tasksRender\": () => (/* binding */ tasksRender)\n/* harmony export */ });\n/* harmony import */ var _modals_modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modals/modal */ \"./HW5/src/modals/modal.ts\");\n/* harmony import */ var _modals_modalActions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modals/modalActions */ \"./HW5/src/modals/modalActions.ts\");\n/* harmony import */ var _todo_todoItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../todo/todoItem */ \"./HW5/src/todo/todoItem.ts\");\n/* harmony import */ var _search_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../search/search */ \"./HW5/src/search/search.ts\");\n/* harmony import */ var _widgets_weatherWidget__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../widgets/weatherWidget */ \"./HW5/src/widgets/weatherWidget.ts\");\n/* harmony import */ var _modals_daylyTaskModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modals/daylyTaskModal */ \"./HW5/src/modals/daylyTaskModal.ts\");\n\n\n\n\n\n\nfunction tasksRender() {\n    const body = document.querySelector(\"body\");\n    const main = document.createElement(\"section\");\n    main.setAttribute(\"class\", \"main__container\");\n    body === null || body === void 0 ? void 0 : body.appendChild(main);\n    const header = document.createElement(\"header\");\n    header.setAttribute(\"class\", \"header\");\n    const title = document.createElement(\"span\");\n    title.innerHTML = \"To Do List\";\n    header.appendChild(title);\n    const searchContainer = document.createElement(\"div\");\n    searchContainer.setAttribute(\"class\", \"main__container__searchbar\");\n    const searchField = document.createElement(\"input\");\n    searchField.setAttribute(\"type\", \"search\");\n    searchField.setAttribute(\"class\", \"main__container__searchfield\");\n    searchField.setAttribute(\"placeholder\", \"Search Task\");\n    searchField.addEventListener(\"keyup\", (event) => {\n        (0,_search_search__WEBPACK_IMPORTED_MODULE_3__.search)(event.target.value);\n    });\n    const newTaskButton = document.createElement(\"button\");\n    newTaskButton.setAttribute(\"class\", \"main__container__newTask\");\n    newTaskButton.innerText = \"+ New Task\";\n    newTaskButton.addEventListener(\"click\", () => {\n        (0,_modals_modal__WEBPACK_IMPORTED_MODULE_0__.modal)();\n        (0,_modals_modalActions__WEBPACK_IMPORTED_MODULE_1__.showModal)();\n    });\n    [searchField, newTaskButton].forEach((el) => searchContainer.appendChild(el));\n    const tasksContainer = document.createElement(\"div\");\n    tasksContainer.setAttribute(\"class\", \"main__container__tasks\");\n    const pendingTasks = document.createElement(\"div\");\n    pendingTasks.setAttribute(\"class\", \"main__container__tasks__pending\");\n    const pendingTitle = document.createElement(\"p\");\n    pendingTitle.innerText = \"All Tasks\";\n    pendingTasks.appendChild(pendingTitle);\n    // pendingTasks.appendChild(todoItem());\n    const completedTasks = document.createElement(\"div\");\n    completedTasks.setAttribute(\"class\", \"main__container__tasks__completed\");\n    const completedTitle = document.createElement(\"p\");\n    completedTitle.innerText = \"Completed Tasks\";\n    completedTasks.appendChild(completedTitle);\n    [pendingTasks, completedTasks].forEach((el) => tasksContainer.appendChild(el));\n    [header, searchContainer, tasksContainer].forEach((el) => main.appendChild(el));\n    const pendingTodos = (0,_todo_todoItem__WEBPACK_IMPORTED_MODULE_2__.renderTaskList)(\"pending\");\n    (0,_todo_todoItem__WEBPACK_IMPORTED_MODULE_2__.renderTaskList)(\"completed\");\n    !(0,_modals_daylyTaskModal__WEBPACK_IMPORTED_MODULE_5__.isShownToday)() ? setTimeout(() => (0,_modals_daylyTaskModal__WEBPACK_IMPORTED_MODULE_5__.daylyTaskModal)(pendingTodos), 1500) : null;\n}\ntasksRender();\n(0,_widgets_weatherWidget__WEBPACK_IMPORTED_MODULE_4__.weatherWidget)();\n\n\n//# sourceURL=webpack://quantorihomework/./HW5/src/main/app.ts?");

/***/ }),

/***/ "./HW5/src/modals/daylyTaskModal.ts":
/*!******************************************!*\
  !*** ./HW5/src/modals/daylyTaskModal.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"daylyTaskModal\": () => (/* binding */ daylyTaskModal),\n/* harmony export */   \"isShownToday\": () => (/* binding */ isShownToday)\n/* harmony export */ });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst daylyTaskModal = (todos) => __awaiter(void 0, void 0, void 0, function* () {\n    const body = document.querySelector(\"body\");\n    const modalContainer = document.createElement(\"div\");\n    modalContainer.setAttribute(\"class\", \"modal__container\");\n    body === null || body === void 0 ? void 0 : body.appendChild(modalContainer);\n    modalContainer.style.display = \"flex\";\n    const containerInside = document.createElement(\"div\");\n    containerInside.setAttribute(\"class\", \"modal__container__inside dayly-modal\");\n    modalContainer.appendChild(containerInside);\n    const title = document.createElement(\"div\");\n    title.setAttribute(\"class\", \"modal__container__inside__title\");\n    const titleText = document.createElement(\"h2\");\n    titleText.innerText = \"Good Morning\";\n    title.appendChild(titleText);\n    const todo = document.createElement(\"div\");\n    todo.setAttribute(\"class\", \"modal__container__input__todo\");\n    const taskTitlesContainer = document.createElement(\"div\");\n    taskTitlesContainer.setAttribute(\"class\", \"daylyTask-modal-container\");\n    getTodaysTasks(\"daylyTask-modal-container\", todos);\n    const buttonContainer = document.createElement(\"div\");\n    buttonContainer.setAttribute(\"class\", \"modal__container__inside__buttons\");\n    const buttonOk = document.createElement(\"button\");\n    buttonOk.setAttribute(\"class\", \"modal__container__inside__buttons__add\");\n    buttonOk.disabled = false;\n    buttonOk.style.width = \"100%\";\n    buttonOk.style.backgroundColor = \" #3C86F4\";\n    const addText = document.createElement(\"h3\");\n    addText.innerText = \"Ok\";\n    buttonOk.appendChild(addText);\n    buttonContainer.appendChild(buttonOk);\n    buttonOk.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        closeDaylyTaskModal();\n    });\n    [title, taskTitlesContainer, buttonContainer].forEach((child) => containerInside.appendChild(child));\n});\nfunction closeDaylyTaskModal() {\n    const daylyTaskModal = document.getElementsByClassName(\"modal__container\")[0];\n    daylyTaskModal.remove();\n}\nfunction isShownToday() {\n    var _a;\n    let isShown = false;\n    const now = new Date();\n    const date = now.getDate().toString();\n    const month = now.toLocaleString(window.navigator.language, {\n        month: \"long\",\n    });\n    const today = date + month;\n    const lastShow = JSON.parse((_a = localStorage.getItem(\"lastShow\")) !== null && _a !== void 0 ? _a : \"null\");\n    lastShow === today\n        ? (isShown = true)\n        : localStorage.setItem(\"lastShow\", JSON.stringify(today));\n    return isShown;\n}\nfunction getTodaysTasks(className, todos) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const now = new Date();\n        const date = now.getDate().toString();\n        const month = now.toLocaleString(window.navigator.language, {\n            month: \"long\",\n        });\n        const today = date + month;\n        const todosArr = yield todos;\n        // const getTodos = await fetch(\"http://localhost:3004/tasks\");\n        // const todos = await getTodos.json();\n        // const pendingTodos = todos.filter((todo) => todo.status === \"pending\");\n        const todaysTodos = todosArr.filter((todo) => {\n            var _a;\n            const tododate = (_a = todo.date.split(\", \")[1]) === null || _a === void 0 ? void 0 : _a.split(\" \").join(\"\");\n            return tododate === today;\n        });\n        const container = document.getElementsByClassName(className)[0];\n        if (todaysTodos.length) {\n            const subTitle = document.createElement(\"span\");\n            subTitle.innerHTML = \"You have the next planned tasks for today: \";\n            subTitle.setAttribute(\"class\", \"daylyTask-modal__subtitle\");\n            container.appendChild(subTitle);\n            container.insertAdjacentHTML(\"beforeend\", todaysTodos\n                .map((todo) => `<p class=\"daylyTask__titles\">${todo.task}<p>`)\n                .join(\"\\n\"));\n        }\n        else {\n            const title = document.createElement(\"p\");\n            title.innerHTML = \"No Tasks for Today\";\n            container.appendChild(title);\n        }\n        // return todaysTodos;\n    });\n}\n\n\n//# sourceURL=webpack://quantorihomework/./HW5/src/modals/daylyTaskModal.ts?");

/***/ }),

/***/ "./HW5/src/modals/modal.ts":
/*!*********************************!*\
  !*** ./HW5/src/modals/modal.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"modal\": () => (/* binding */ modal)\n/* harmony export */ });\n/* harmony import */ var _modalActions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modalActions */ \"./HW5/src/modals/modalActions.ts\");\n\nconst modal = () => {\n    const body = document.querySelector(\"body\");\n    const modalContainer = document.createElement(\"div\");\n    modalContainer.setAttribute(\"class\", \"modal__container\");\n    body === null || body === void 0 ? void 0 : body.appendChild(modalContainer);\n    modalContainer.style.display = \"flex\";\n    const containerInside = document.createElement(\"div\");\n    containerInside.setAttribute(\"class\", \"modal__container__inside\");\n    modalContainer.appendChild(containerInside);\n    const title = document.createElement(\"div\");\n    title.setAttribute(\"class\", \"modal__container__inside__title\");\n    const titleText = document.createElement(\"h2\");\n    titleText.innerText = \"Add New Task\";\n    title.appendChild(titleText);\n    const todo = document.createElement(\"div\");\n    todo.setAttribute(\"class\", \"modal__container__input__todo\");\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"type\", \"text\");\n    input.addEventListener(\"click\", () => (input.value = \"\"));\n    input.addEventListener(\"blur\", () => {\n        (0,_modalActions__WEBPACK_IMPORTED_MODULE_0__.validateEntries)();\n    });\n    todo.appendChild(input);\n    const options = document.createElement(\"div\");\n    options.setAttribute(\"class\", \"modal__container__input__options\");\n    const optionsTypes = document.createElement(\"div\");\n    optionsTypes.setAttribute(\"class\", \"modal__container__input__options__type\");\n    const health = document.createElement(\"div\");\n    health.setAttribute(\"class\", \"modal__container__input__options__type health\");\n    health.innerText = \"health\";\n    const work = document.createElement(\"div\");\n    work.setAttribute(\"class\", \"modal__container__input__options__type work\");\n    work.innerText = \"work\";\n    const home = document.createElement(\"div\");\n    home.setAttribute(\"class\", \"modal__container__input__options__type home\");\n    home.innerText = \"home\";\n    const other = document.createElement(\"div\");\n    other.setAttribute(\"class\", \"modal__container__input__options__type other\");\n    other.innerText = \"other\";\n    const optionTypesArr = [health, work, home, other];\n    optionTypesArr.forEach((type) => optionsTypes.appendChild(type));\n    // adding listener for marking selected todo type with 1px border\n    // in the same color as is the selected todo type, and remove border from the previous selection\n    optionTypesArr.forEach((type) => type.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        (0,_modalActions__WEBPACK_IMPORTED_MODULE_0__.checkTodoType)(type);\n        (0,_modalActions__WEBPACK_IMPORTED_MODULE_0__.validateEntries)();\n    }));\n    const optionsDate = document.createElement(\"input\");\n    optionsDate.setAttribute(\"type\", \"date\");\n    optionsDate.setAttribute(\"class\", \"modal__container__input__options__date\");\n    optionsDate.setAttribute(\"required\", \"true\");\n    optionsDate.addEventListener(\"focusout\", () => {\n        (0,_modalActions__WEBPACK_IMPORTED_MODULE_0__.validateEntries)();\n    });\n    options.appendChild(optionsTypes);\n    options.appendChild(optionsDate);\n    const buttons = document.createElement(\"div\");\n    buttons.setAttribute(\"class\", \"modal__container__inside__buttons\");\n    const buttonCancel = document.createElement(\"button\");\n    buttonCancel.setAttribute(\"class\", \"modal__container__inside__buttons__cancel\");\n    const cancelText = document.createElement(\"h3\");\n    cancelText.innerText = \"Cancel\";\n    buttonCancel.appendChild(cancelText);\n    const buttonAdd = document.createElement(\"button\");\n    buttonAdd.setAttribute(\"class\", \"modal__container__inside__buttons__add\");\n    buttonAdd.disabled = true;\n    const addText = document.createElement(\"h3\");\n    addText.innerText = \"Add task\";\n    buttonAdd.appendChild(addText);\n    buttons.appendChild(buttonCancel);\n    buttons.appendChild(buttonAdd);\n    const insideNodes = [title, todo, options, buttons];\n    insideNodes.forEach((child) => containerInside.appendChild(child));\n    (0,_modalActions__WEBPACK_IMPORTED_MODULE_0__.modalCancelAction)();\n};\n// modal();\n\n\n//# sourceURL=webpack://quantorihomework/./HW5/src/modals/modal.ts?");

/***/ }),

/***/ "./HW5/src/modals/modalActions.ts":
/*!****************************************!*\
  !*** ./HW5/src/modals/modalActions.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"checkTodoType\": () => (/* binding */ checkTodoType),\n/* harmony export */   \"modalCancelAction\": () => (/* binding */ modalCancelAction),\n/* harmony export */   \"showModal\": () => (/* binding */ showModal),\n/* harmony export */   \"validateEntries\": () => (/* binding */ validateEntries)\n/* harmony export */ });\n/* harmony import */ var _popup_popup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../popup/popup */ \"./HW5/src/popup/popup.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nfunction modalCancelAction() {\n    const cancelButton = document.getElementsByClassName(\"modal__container__inside__buttons__cancel\")[0];\n    let modalContainer = document.getElementsByClassName(\"modal__container\")[0];\n    cancelButton.addEventListener(\"click\", () => {\n        modalContainer.remove();\n    });\n}\nfunction showModal() {\n    let modalContainer = document.getElementsByClassName(\"modal__container\")[0];\n    modalContainer.style.display = \"flex\";\n}\n// export function hideModal() {\n//   let modalContainer = document.getElementsByClassName(\"modal__container\")[0];\n//   modalContainer.style.display = \"none\";\n// }\nfunction checkTodoType(check) {\n    const todoTypes = document.getElementsByClassName(\"modal__container__input__options__type\");\n    console.log(todoTypes);\n    const color = check.style.color;\n    const typeName = check.className.split(\" \")[1];\n    check.style.border = `1px solid ${color}`;\n    [...todoTypes].forEach((type) => {\n        if (!type.classList.contains(typeName)) {\n            type.style.border = \"none\";\n            type.setAttribute(\"selected\", \"false\");\n        }\n        else {\n            type.setAttribute(\"selected\", \"true\");\n        }\n    });\n}\nfunction getTodo() {\n    const input = document.getElementsByClassName(\"modal__container__input__todo\")[0].firstChild;\n    if (input.value.trim().length > 0) {\n        return input.value;\n    }\n    return null;\n}\nfunction getType() {\n    var _a, _b;\n    const todoTypes = document.getElementsByClassName(\"modal__container__input__options__type\");\n    const selectedType = (_a = [...todoTypes]) === null || _a === void 0 ? void 0 : _a.filter((type) => type.getAttribute(\"selected\") === \"true\");\n    return (_b = selectedType[0]) === null || _b === void 0 ? void 0 : _b.innerHTML;\n}\nfunction getDueDate() {\n    const input = document.getElementsByClassName(\"modal__container__input__options__date\")[0];\n    // console.log(input.value);\n    return formatDate(input.value);\n}\nfunction validateEntries() {\n    const todoItem = {\n        task: \"\",\n        date: \"\",\n        type: \"\",\n        status: \"\",\n        id: \"\",\n    };\n    const todo = getTodo();\n    const dueDate = getDueDate();\n    const todoType = getType();\n    const addButton = document.getElementsByClassName(\"modal__container__inside__buttons__add\")[0];\n    if (todo && dueDate && todoType) {\n        // console.log(\"validating \");\n        todoItem.task = todo;\n        todoItem.date = dueDate;\n        todoItem.type = todoType;\n        todoItem.status = \"pending\";\n        todoItem.id = new Date().valueOf().toString();\n        addButton.disabled = false;\n        addButton.style.backgroundColor = \"#3C86F4\";\n        addButton.onclick = (e) => {\n            e.preventDefault();\n            addTask(todoItem);\n            //closeModal();\n        };\n    }\n    else\n        console.log(\"some entries invalid\");\n    console.log(todoItem);\n}\nfunction addTask(todoItem) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            yield fetch(\"http://localhost:3005/tasks\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-type\": \"application/json; charset=UTF-8\",\n                },\n                body: JSON.stringify(todoItem),\n            });\n            (0,_popup_popup__WEBPACK_IMPORTED_MODULE_0__.popup)(\"Task added\");\n        }\n        catch (error) {\n            let message;\n            if (error instanceof Error)\n                message = error.message;\n            else\n                message = String(error);\n            (0,_popup_popup__WEBPACK_IMPORTED_MODULE_0__.popup)(message, \"error\");\n            // console.error(error);\n        }\n    });\n}\nfunction formatDate(dateString) {\n    if (!dateString) {\n        return null;\n    }\n    const date = new Date(dateString);\n    const now = new Date();\n    const day = date.toLocaleString(window.navigator.language, {\n        weekday: \"long\",\n    });\n    const month = date.toLocaleString(window.navigator.language, {\n        month: \"long\",\n    });\n    const monthNow = now.toLocaleString(window.navigator.language, {\n        month: \"long\",\n    });\n    const monthDate = date.getDate();\n    const monthDateNow = now.getDate();\n    const formatedDate = `${day}, ${monthDate}  ${month}`;\n    return formatedDate;\n}\n\n\n//# sourceURL=webpack://quantorihomework/./HW5/src/modals/modalActions.ts?");

/***/ }),

/***/ "./HW5/src/popup/popup.ts":
/*!********************************!*\
  !*** ./HW5/src/popup/popup.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"popup\": () => (/* binding */ popup)\n/* harmony export */ });\nfunction popup(message, type = \"success\") {\n    // const body = document.getElementsByTagName(\"body\")[0];\n    const body = document.querySelector(\"body\");\n    console.log(body);\n    const popContainer = document.createElement(\"div\");\n    popContainer.setAttribute(\"class\", \"popup\");\n    popContainer.innerText = message;\n    if (type !== \"success\") {\n        popContainer.style.color = \"#eb3437\";\n    }\n    body === null || body === void 0 ? void 0 : body.appendChild(popContainer);\n    console.log(\"popup runs\");\n    setTimeout(() => closePopup(popContainer), 4000);\n}\nfunction closePopup(popContainer) {\n    popContainer.remove();\n}\n\n\n//# sourceURL=webpack://quantorihomework/./HW5/src/popup/popup.ts?");

/***/ }),

/***/ "./HW5/src/search/search.ts":
/*!**********************************!*\
  !*** ./HW5/src/search/search.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"search\": () => (/* binding */ search)\n/* harmony export */ });\nfunction search(searchTerm, status = \"pending\") {\n    var _a;\n    const todos = document.getElementsByClassName(\"main__container__tasks__pending__list__item__content__title\");\n    const pendingTodos = (_a = [...todos]) === null || _a === void 0 ? void 0 : _a.filter((task) => task.getAttribute(\"status\") === status);\n    // console.log(pendingTodos);\n    pendingTodos.forEach((el) => {\n        // const parent: HTMLElement | null = el.parentElement;\n        let grantParent = el.closest(\".main__container__tasks__pending__list__item\");\n        if (grantParent &&\n            el.innerText.substring(0, searchTerm.length) !== searchTerm) {\n            grantParent.style.display = \"none\";\n        }\n        else if (grantParent) {\n            grantParent.style.display = \"flex\";\n        }\n    });\n    // console.log(filteredTodos);\n}\n\n\n//# sourceURL=webpack://quantorihomework/./HW5/src/search/search.ts?");

/***/ }),

/***/ "./HW5/src/todo/todoItem.ts":
/*!**********************************!*\
  !*** ./HW5/src/todo/todoItem.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"markCompleted\": () => (/* binding */ markCompleted),\n/* harmony export */   \"notCompleted\": () => (/* binding */ notCompleted),\n/* harmony export */   \"removeTodo\": () => (/* binding */ removeTodo),\n/* harmony export */   \"renderTaskList\": () => (/* binding */ renderTaskList)\n/* harmony export */ });\n/* harmony import */ var _main_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../main/app */ \"./HW5/src/main/app.ts\");\n/* harmony import */ var _popup_popup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../popup/popup */ \"./HW5/src/popup/popup.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nfunction todoItem(todo) {\n    const todoContainer = document.createElement(\"div\");\n    todoContainer.setAttribute(\"class\", \"main__container__tasks__pending__list__item\");\n    const checkBox = document.createElement(\"input\");\n    checkBox.setAttribute(\"type\", \"checkbox\");\n    checkBox.setAttribute(\"serial\", `${todo === null || todo === void 0 ? void 0 : todo.id}`);\n    if (todo.status === \"completed\") {\n        checkBox.checked = true;\n    }\n    checkBox.addEventListener(\"change\", function () {\n        this.checked ? markCompleted(this) : notCompleted(this);\n        // removeAllChildNodes();\n    });\n    const todoContent = document.createElement(\"div\");\n    todoContent.setAttribute(\"class\", \"main__container__tasks__pending__list__item__content\");\n    const todoDesc = document.createElement(\"div\");\n    todoDesc.setAttribute(\"class\", \"main__container__tasks__pending__list__item__content__title\");\n    todoDesc.setAttribute(\"status\", todo === null || todo === void 0 ? void 0 : todo.status);\n    todoDesc.innerHTML = todo === null || todo === void 0 ? void 0 : todo.task;\n    const typeAndDate = document.createElement(\"div\");\n    typeAndDate.setAttribute(\"class\", \"main__container__tasks__pending__list__item__content__dateType\");\n    const type = document.createElement(\"div\");\n    type.setAttribute(\"class\", \"main__container__tasks__pending__list__item__content__type\");\n    type.setAttribute(\"class\", `${todo.type}`);\n    type.innerText = todo === null || todo === void 0 ? void 0 : todo.type;\n    const date = document.createElement(\"div\");\n    date.setAttribute(\"class\", \"main__container__tasks__pending__list__item__content__date\");\n    date.innerText = todo === null || todo === void 0 ? void 0 : todo.date;\n    [type, date].forEach((el) => typeAndDate.appendChild(el));\n    [todoDesc, typeAndDate].forEach((el) => todoContent.appendChild(el));\n    const deleteTodo = document.createElement(\"div\");\n    deleteTodo.setAttribute(\"class\", \"main__container__tasks__pending__list__item__removeIcon\");\n    deleteTodo.setAttribute(\"serial\", `${todo === null || todo === void 0 ? void 0 : todo.id}`);\n    deleteTodo.onclick = () => {\n        const id = deleteTodo.getAttribute(\"serial\");\n        removeTodo(id);\n        // removeAllChildNodes();\n    };\n    const deleteIcon = document.createElement(\"img\");\n    deleteIcon.setAttribute(\"src\", \"./images/trash_bin.svg\");\n    deleteIcon.setAttribute(\"alt\", \"trash bin icon\");\n    deleteTodo.appendChild(deleteIcon);\n    [checkBox, todoContent, deleteTodo].forEach((el) => todoContainer.appendChild(el));\n    return todoContainer;\n}\nfunction renderTaskList(status) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const getTodos = yield fetch(\"http://localhost:3005/tasks\", {\n            method: \"GET\",\n        });\n        const todos = yield getTodos.json();\n        // console.log(todos);\n        const filtered = todos.filter((todo) => todo.status === status);\n        const listContainer = document.getElementsByClassName(`main__container__tasks__${status}`)[0];\n        filtered.forEach((todo) => listContainer.appendChild(todoItem(todo)));\n        return filtered;\n    });\n}\nfunction markCompleted(object) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const idToMark = object.getAttribute(\"serial\");\n        const getTodos = yield fetch(`http://localhost:3005/tasks`);\n        const todos = yield getTodos.json();\n        // debugger;\n        const todoToMark = todos.filter((el) => el.id.toString() === (idToMark === null || idToMark === void 0 ? void 0 : idToMark.toString()));\n        const updatedTodo = Object.assign(Object.assign({}, todoToMark[0]), { status: \"completed\" });\n        const configPut = {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(updatedTodo),\n        };\n        try {\n            yield fetch(`http://localhost:3005/tasks/${idToMark}`, configPut);\n            // debugger;\n            // tasksRender();\n            (0,_popup_popup__WEBPACK_IMPORTED_MODULE_1__.popup)(\"marked completed successfully\");\n        }\n        catch (error) {\n            let message;\n            if (error instanceof Error)\n                message = error.message;\n            else\n                message = String(error);\n            (0,_popup_popup__WEBPACK_IMPORTED_MODULE_1__.popup)(message, \"error\");\n        }\n        (0,_main_app__WEBPACK_IMPORTED_MODULE_0__.tasksRender)();\n    });\n}\nfunction notCompleted(object) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const idToMark = object.getAttribute(\"serial\");\n        console.log(idToMark === null || idToMark === void 0 ? void 0 : idToMark.trim());\n        const getTodos = yield fetch(`http://localhost:3005/tasks`);\n        const todos = yield getTodos.json();\n        // debugger;\n        const todoToMark = todos.filter((el) => el.id.toString() === (idToMark === null || idToMark === void 0 ? void 0 : idToMark.toString()));\n        console.log(todoToMark);\n        const updatedTodo = Object.assign(Object.assign({}, todoToMark[0]), { status: \"pending\" });\n        const configPut = {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(updatedTodo),\n        };\n        try {\n            yield fetch(`http://localhost:3005/tasks/${idToMark}`, configPut);\n            (0,_popup_popup__WEBPACK_IMPORTED_MODULE_1__.popup)(\"marked pending\");\n        }\n        catch (error) {\n            let message;\n            if (error instanceof Error)\n                message = error.message;\n            else\n                message = String(error);\n            (0,_popup_popup__WEBPACK_IMPORTED_MODULE_1__.popup)(message, \"error\");\n        }\n        (0,_main_app__WEBPACK_IMPORTED_MODULE_0__.tasksRender)();\n    });\n}\nfunction removeTodo(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const config = {\n            method: \"DELETE\",\n        };\n        try {\n            yield fetch(`http://localhost:3005/tasks/${id}`, config);\n            (0,_popup_popup__WEBPACK_IMPORTED_MODULE_1__.popup)(\"task deleted successfully\");\n        }\n        catch (error) {\n            let message;\n            if (error instanceof Error)\n                message = error.message;\n            else\n                message = String(error);\n            (0,_popup_popup__WEBPACK_IMPORTED_MODULE_1__.popup)(message, \"error\");\n        }\n        (0,_main_app__WEBPACK_IMPORTED_MODULE_0__.tasksRender)();\n    });\n}\n\n\n//# sourceURL=webpack://quantorihomework/./HW5/src/todo/todoItem.ts?");

/***/ }),

/***/ "./HW5/src/widgets/weatherWidget.ts":
/*!******************************************!*\
  !*** ./HW5/src/widgets/weatherWidget.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"weatherWidget\": () => (/* binding */ weatherWidget)\n/* harmony export */ });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nfunction weatherWidget() {\n    return __awaiter(this, void 0, void 0, function* () {\n        navigator.geolocation.getCurrentPosition(locationSuccess, locationError);\n    });\n}\nfunction widgetFrame(icon, temp, name) {\n    const container = document.getElementsByClassName(\"header\")[0];\n    const weatherContainer = document.createElement(\"div\");\n    weatherContainer.setAttribute(\"class\", \"weather-wrapper\");\n    container.appendChild(weatherContainer);\n    const image = document.createElement(\"img\");\n    image.setAttribute(\"class\", \"weather-wrapper__image\");\n    image.src = icon;\n    const temperature = document.createElement(\"span\");\n    temperature.setAttribute(\"class\", \"weather-wrapper__temperature\");\n    temperature.innerText = temp;\n    const city = document.createElement(\"span\");\n    city.setAttribute(\"class\", \"weather-wrapper__city\");\n    city.innerText = name;\n    [image, temperature, city].forEach((el) => weatherContainer === null || weatherContainer === void 0 ? void 0 : weatherContainer.appendChild(el));\n}\nconst locationSuccess = (pos) => __awaiter(void 0, void 0, void 0, function* () {\n    const apiKey = \"8865504129134593933100446231304\";\n    const locationCurrent = { latitude: \"\", longitude: \"\" };\n    let reqParam = \"\";\n    locationCurrent.latitude = pos.coords.latitude.toFixed(4);\n    locationCurrent.longitude = pos.coords.longitude.toFixed(4);\n    reqParam = locationCurrent.latitude + \",\" + locationCurrent.longitude;\n    try {\n        const weatherData = yield fetch(`https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${reqParam}&aqi=no`);\n        const weather = yield weatherData.json();\n        console.log(weather);\n        const [icon, temp, city] = [\n            weather.current.condition.icon,\n            weather.current.temp_c,\n            weather.location.name,\n        ];\n        widgetFrame(icon, temp, city);\n    }\n    catch (error) {\n        console.error(error);\n    }\n});\nconst locationError = () => __awaiter(void 0, void 0, void 0, function* () {\n    const apiKey = \"8865504129134593933100446231304\";\n    const locationDefault = \"Tbilisi\";\n    try {\n        const weatherData = yield fetch(`https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${locationDefault}&aqi=no`);\n        const weather = yield weatherData.json();\n        const [icon, temp, city] = [\n            weather.current.condition.icon,\n            weather.current.temp_c,\n            weather.location.name,\n        ];\n        widgetFrame(icon, temp, city);\n    }\n    catch (error) {\n        console.error(error);\n    }\n});\n\n\n//# sourceURL=webpack://quantorihomework/./HW5/src/widgets/weatherWidget.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./HW5/src/main/app.ts");
/******/ 	
/******/ })()
;